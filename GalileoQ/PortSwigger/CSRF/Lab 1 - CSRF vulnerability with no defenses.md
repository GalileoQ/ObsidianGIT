`Tarea:`La funcionalidad de cambio de correo electrónico de este laboratorio es vulnerable a CSRF.
Para resolver el laboratorio, cree un código HTML que utilice un ataque CSRF para cambiar la dirección de correo electrónico del espectador y cárguelo en su servidor de exploits.
Puede iniciar sesión en su propia cuenta utilizando las siguientes credenciales:`wiener:peter`

iniciamos sesión en el laboratorio con las credenciales proporcionadas y vamos a intentar cambiar el correo electrónico, luego esta petición la vamos a interceptar con burpsuite
![[Pasted image 20250703101306.png]]

dentro de burpsuite vamos a identificar la petición `POST` ya que esta nos permite realizar cambios. puedes revisar este recurso: [Métodos de solicitud HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Methods) luego clic derecho en la solicitud y seleccione Herramientas de interacción ó (Engagement tools) después  > Generar CSRF PoC. 
![[Pasted image 20250703101737.png]]

luego nos aseguramos que la opción `Enclude auto-submit script` este activada
![[Pasted image 20250703102355.png]]

luego hacemos clic en la parte de abajo en la opción `REGENERATE` y cambiamos el valor del parámetro email en este caso yo he usado `HACKER` 
![[Pasted image 20250703102627.png]]

luego vamos al servidor de exploit
![[Pasted image 20250703105132.png]]

copiamos en el exploit o (CSRF) que acabamos de generar y lo enviamos `Deliver exploit to victom` de esta manera hemos generado una Request (CSRF) capas de cambiar el correo electrónico de la victima
![[Pasted image 20250703103348.png]]

### OPCIÓN 2

si no tienes BurpSuite Profesional no hay problema. existen muchas soluciones o vías alternas que podemos tomar para completar este laboratorio

en este [repositorio](https://github.com/CuriosidadesDeHackers/CSRF-PoC-Generator-Avanzado---Burp-Suite-Extension?tab=readme-ov-file#-demo) encontraras la documentación necesaria para instalar una extensión que te permita utilizar la opción (CSRF)
![[437530021-00574069-aa73-4d54-93e7-b11257569050.png]]

también existen algunas opciones en internet para poder realizar este paso de manera mas rápida y sencilla [(CSRF-Poc-Generator)](https://csrf-poc-generator.vercel.app/) captura tu Request genera una Request CSRF y luego inyecta esta nueva Request en el servidor de exploit tal cual realizamos en los pasos anteriores. (Recuerda que crear una solicitud CSRF) es complicado y lleva tiempo de estudio. pero para efectos prácticos de este laboratorio 

![[Pasted image 20250703113614.png]]