`TAREA:`Para resolver el laboratorio, busque la clave API del usuario `carlos`Puedes iniciar sesión en tu cuenta con las siguientes credenciales: `wiener:peter`. Hemos proporcionado una lista de posibles caracteres delimitadores para ayudarlo a resolver el laboratorio

iniciamos sesión en el laboratorio y tenemos la clave API de wiener
![[Pasted image 20250723115919.png]]

enviamos la solicitud de inicio de sesión al repeater y analizamos la respuesta. tenemos un `200 OK` con el parámetro `X-Frame-Options: SAMEORIGIN`  
![[Pasted image 20250723115959.png]]

de nuevo no podemos encontrar una URL para `abc.js` así que vamos a enviar esto al intruder
![[Pasted image 20250723120218.png]]

realizamos el ataque proporcionando la lista de caracteres que nos da el propio laboratorio y desactivando la opción `URL-encode these characters:` tenemos un estado `200 OK` con el carácter `?` esto indica que el servidor de origen solo utiliza el signo `?` como delimitador de ruta 
![[Pasted image 20250723120454.png]]

ahora podemos elegir la solicitud con una respuesta en caché y reenviarla con una ruta y un directorio arbitrario al inicio de la ruta estática. esto nos entrega una API diferente que podemos utilizar.
![[Pasted image 20250723123343.png]]

ahora interceptamos una nueva solicitud que hemos encontrado donde tenemos evidencia de que la cache esta almacenando algo. probablemente la clave API asi que vamos a trabajar con esta solicitud para lograr lo mismo del paso anterior. encontrar una URL final que podamos usar.
![[Pasted image 20250723124357.png]]

haciendo la misma técnica para evadir la validación de la URL podemos ver el parámetro `X-Cache: miss` sabemos que si enviamos esto rápidamente podemos obtener un hit ya que la cache solo almacena este valor por aproximadamente 30 segundos 
![[Pasted image 20250723124519.png]]